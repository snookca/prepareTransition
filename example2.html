<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="preparetransition.js"></script>

    <style>
    .msg {
        padding: 5px 10px;
        border-radius: 10px;
        background-color: #CCC;
        -webkit-transition: opacity 1s;
        -moz-transition: opacity 1s;
        -ms-transition: opacity 1s;
        -o-transition: opacity 1s;
        opacity: 0;
        display:none;
    }

    .is-msgshown .msg {
        opacity: 1;
        display: block;
    }

    .is-transitioning .msg {
        display: block !important;
    }
    </style>

</head>
<body>

    <div id="parent-el" class="is-msgshown">
        
        <button id="btn-test">Toggle message</button>
        <div id="trans-el" class="msg">Here is a message that needs to be displayed</div>
    </div>

    <script>
    $('#btn-test').bind('click', function(){
        var $elementWithTransition = $("#trans-el"),
            $parentElementWithState = $("#parent-el");

        $elementWithTransition.prepareTransition( $parentElementWithState );
        $parentElementWithState.toggleClass('is-msgshown');
    });
    </script>
</body>
</html>
